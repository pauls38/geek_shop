{"remainingRequest":"D:\\GeekBrains\\Практика geekbrains\\Agile practic\\Совместный проект-стажировка\\Совместный проект-стажировка cart\\node_modules\\babel-loader\\lib\\index.js!D:\\GeekBrains\\Практика geekbrains\\Agile practic\\Совместный проект-стажировка\\Совместный проект-стажировка cart\\src\\store\\index.js","dependencies":[{"path":"D:\\GeekBrains\\Практика geekbrains\\Agile practic\\Совместный проект-стажировка\\Совместный проект-стажировка cart\\src\\store\\index.js","mtime":1652213636603},{"path":"D:\\GeekBrains\\Практика geekbrains\\Agile practic\\Совместный проект-стажировка\\Совместный проект-стажировка cart\\babel.config.js","mtime":1644928676000},{"path":"D:\\GeekBrains\\Практика geekbrains\\Agile practic\\Совместный проект-стажировка\\Совместный проект-стажировка cart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650922736410},{"path":"D:\\GeekBrains\\Практика geekbrains\\Agile practic\\Совместный проект-стажировка\\Совместный проект-стажировка cart\\node_modules\\babel-loader\\lib\\index.js","mtime":1650922738943}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9HZWVrQnJhaW5zL1x1MDQxRlx1MDQ0MFx1MDQzMFx1MDQzQVx1MDQ0Mlx1MDQzOFx1MDQzQVx1MDQzMCBnZWVrYnJhaW5zL0FnaWxlIHByYWN0aWMvXHUwNDIxXHUwNDNFXHUwNDMyXHUwNDNDXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzNVx1MDQzQVx1MDQ0Mi1cdTA0NDFcdTA0NDJcdTA0MzBcdTA0MzZcdTA0MzhcdTA0NDBcdTA0M0VcdTA0MzJcdTA0M0FcdTA0MzAvXHUwNDIxXHUwNDNFXHUwNDMyXHUwNDNDXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzNVx1MDQzQVx1MDQ0Mi1cdTA0NDFcdTA0NDJcdTA0MzBcdTA0MzZcdTA0MzhcdTA0NDBcdTA0M0VcdTA0MzJcdTA0M0FcdTA0MzAgY2FydC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN0b3JlKHsKICBzdGF0ZTogewogICAgY2F0YWxvZzogW3t9XSwKICAgIGNhcnQ6IFtdLAogICAgY2F0ZWdvcnk6IFtdLAogICAgcHJlVmlldzogW10sCiAgICBpbWFnZVVybDogJ2h0dHA6Ly9zdmFsa2EtYmFjay5pbTU2LnJ1LycKICB9LAogIGdldHRlcnM6IHsKICAgIGdldENhdGFsb2c6IGZ1bmN0aW9uIGdldENhdGFsb2coc3RhdGUpIHsKICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5jYXRhbG9nKTsKICAgIH0sCiAgICBnZXRDYXRlZ29yeTogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoc3RhdGUpIHsKICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5jYXRlZ29yeSk7CiAgICB9LAogICAgZ2V0Q2FydDogZnVuY3Rpb24gZ2V0Q2FydChzdGF0ZSkgewogICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLmNhcnQpOwogICAgfSwKICAgIC8vZ2V0UHJlVmlldzogKHN0YXRlKSA9IFsuLi5zdGF0ZS5jYXRhbG9nXSwgICAgCiAgICBnZXRDYXJ0Q291bnQ6IGZ1bmN0aW9uIGdldENhcnRDb3VudChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY2FydC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaXRlbSkgewogICAgICAgIHJldHVybiBhY2MgKyBpdGVtLnF1YW50aXR5OwogICAgICB9LCAwKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0Q2F0YWxvZzogZnVuY3Rpb24gc2V0Q2F0YWxvZyhzdGF0ZSwgY2F0YWxvZykgewogICAgICBzdGF0ZS5jYXRhbG9nID0gY2F0YWxvZzsKICAgIH0sCiAgICAvLyBzZXRDYXRhbG9nOiAoc3RhdGUsIGNhdGFsb2cpID0+IHtjb25zb2xlLmxvZyhzdGF0ZSl9LAogICAgc2V0Q2FydDogZnVuY3Rpb24gc2V0Q2FydChzdGF0ZSwgY2FydCkgewogICAgICBzdGF0ZS5jYXJ0ID0gY2FydDsKICAgIH0sCiAgICBzZXRDYXRlZ29yeTogZnVuY3Rpb24gc2V0Q2F0ZWdvcnkoc3RhdGUsIGNhdGVnb3J5KSB7CiAgICAgIHN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnk7CiAgICB9LAogICAgcHJlVmlldzogZnVuY3Rpb24gcHJlVmlldyhzdGF0ZSwgY2F0YWxvZykgewogICAgICBzdGF0ZS5wcmVWaWV3ID0gY2F0YWxvZzsKICAgICAgYWxlcnQoJ3Rlc3QnKTsKICAgIH0sCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChzdGF0ZSwgcHJvZHVjdCkgewogICAgICB2YXIgZXhpc3RQcm9kdWN0ID0gc3RhdGUuY2FydC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQ7CiAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyhwcm9kdWN0KTsKCiAgICAgIGlmIChleGlzdFByb2R1Y3QpIHsKICAgICAgICBleGlzdFByb2R1Y3QucXVhbnRpdHkrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5jYXJ0LnB1c2goT2JqZWN0LmFzc2lnbih7CiAgICAgICAgICBxdWFudGl0eTogMQogICAgICAgIH0sIHByb2R1Y3QpKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUZyb21DYXJ0OiBmdW5jdGlvbiByZW1vdmVGcm9tQ2FydChzdGF0ZSwgaWQpIHsKICAgICAgdmFyIGlkeCA9IHN0YXRlLmNhcnQuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGlkOwogICAgICB9KTsKICAgICAgc3RhdGUuY2FydC5zcGxpY2UoaWR4LCAxKTsKICAgIH0sCiAgICBzZXRRdWFudGl0eTogZnVuY3Rpb24gc2V0UXVhbnRpdHkoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICAgIHF1YW50aXR5ID0gX3JlZi5xdWFudGl0eTsKICAgICAgdmFyIHByb2R1Y3QgPSBzdGF0ZS5jYXJ0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gaWQ7CiAgICAgIH0pOwogICAgICBwcm9kdWN0LnF1YW50aXR5ID0gcXVhbnRpdHk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2FkQ2F0YWxvZzogZnVuY3Rpb24gbG9hZENhdGFsb2coX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgLy8gcmV0dXJuIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcGhvdG9zP19saW1pdD0xMCcpCiAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovL3N2YWxrYS1iYWNrLmltNTYucnUvYXBpL3Byb2R1Y3RzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgY29tbWl0KCdzZXRDYXRhbG9nJywgZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRDYXRhbG9nQ2F0ZWdvcnk6IGZ1bmN0aW9uIGxvYWRDYXRhbG9nQ2F0ZWdvcnkoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vc3ZhbGthLWJhY2suaW01Ni5ydS9hcGkvY2F0ZWdvcmllcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgY29tbWl0KCdzZXRDYXRlZ29yeScsIGRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkQ2FydDogZnVuY3Rpb24gbG9hZENhcnQoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgcmV0dXJuIGZldGNoKCIvYXBpL3YxL2NhcnQiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb21taXQoJ3NldENhcnQnLCBkYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQoX3JlZjUsIHByb2R1Y3QpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgcmV0dXJuIGZldGNoKCIvYXBpL3YxL2NhcnQiLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZHVjdCkKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29tbWl0KCdhZGRUb0NhcnQnLCBwcm9kdWN0KTsKICAgICAgfSk7CiAgICB9LAogICAgcHJlVmlldzogZnVuY3Rpb24gcHJlVmlldyhfcmVmNiwgcHJvZHVjdCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICByZXR1cm4gZmV0Y2goIi9hcGkvdjEvcHJlVmlldyIsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcm9kdWN0KQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb21taXQoJ3ByZVZpZXcnLCBwcm9kdWN0KTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0UXVhbnRpdHk6IGZ1bmN0aW9uIHNldFF1YW50aXR5KF9yZWY3LCBfcmVmOCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgICB2YXIgaWQgPSBfcmVmOC5pZCwKICAgICAgICAgIHF1YW50aXR5ID0gX3JlZjgucXVhbnRpdHk7CiAgICAgIHJldHVybiBmZXRjaCgiL2FwaS92MS9jYXJ0LyIuY29uY2F0KGlkKSwgewogICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5CiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29tbWl0KCdzZXRRdWFudGl0eScsIHsKICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVGcm9tQ2FydDogZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoX3JlZjksIGlkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICAgIHJldHVybiBmZXRjaCgiL2FwaS92MS9jYXJ0LyIuY29uY2F0KGlkKSwgewogICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29tbWl0KCdyZW1vdmVGcm9tQ2FydCcsIGlkKTsKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["D:/GeekBrains/Практика geekbrains/Agile practic/Совместный проект-стажировка/Совместный проект-стажировка cart/src/store/index.js"],"names":["createStore","state","catalog","cart","category","preView","imageUrl","getters","getCatalog","getCategory","getCart","getCartCount","reduce","acc","item","quantity","mutations","setCatalog","setCart","setCategory","alert","addToCart","product","existProduct","find","id","push","Object","assign","removeFromCart","idx","findIndex","splice","setQuantity","actions","loadCatalog","commit","fetch","then","response","json","data","loadCatalogCategory","loadCart","method","headers","body","JSON","stringify"],"mappings":";;;;;;;AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeA,WAAW,CAAC;AAEzBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,CAAC,EAAD,CADJ;AAELC,IAAAA,IAAI,EAAE,EAFD;AAGLC,IAAAA,QAAQ,EAAE,EAHL;AAILC,IAAAA,OAAO,EAAE,EAJJ;AAKLC,IAAAA,QAAQ,EAAE;AALL,GAFkB;AASzBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UAAU,EAAE,oBAACP,KAAD;AAAA,gCAAeA,KAAK,CAACC,OAArB;AAAA,KADL;AAEPO,IAAAA,WAAW,EAAE,qBAACR,KAAD;AAAA,gCAAeA,KAAK,CAACG,QAArB;AAAA,KAFN;AAGPM,IAAAA,OAAO,EAAE,iBAACT,KAAD;AAAA,gCAAeA,KAAK,CAACE,IAArB;AAAA,KAHF;AAIP;AACAQ,IAAAA,YAAY,EAAE,sBAACV,KAAD;AAAA,aAAWA,KAAK,CAACE,IAAN,CAAWS,MAAX,CAAkB,UAACC,GAAD,EAAMC,IAAN;AAAA,eAAeD,GAAG,GAAGC,IAAI,CAACC,QAA1B;AAAA,OAAlB,EAAsD,CAAtD,CAAX;AAAA;AALP,GATgB;AAgBzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UAAU,EAAE,oBAAChB,KAAD,EAAQC,OAAR,EAAoB;AAAED,MAAAA,KAAK,CAACC,OAAN,GAAgBA,OAAhB;AAAyB,KADlD;AAET;AACAgB,IAAAA,OAAO,EAAE,iBAACjB,KAAD,EAAQE,IAAR,EAAiB;AAAEF,MAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AAAmB,KAHtC;AAITgB,IAAAA,WAAW,EAAE,qBAAClB,KAAD,EAAQG,QAAR,EAAqB;AAACH,MAAAA,KAAK,CAACG,QAAN,GAAiBA,QAAjB;AAA2B,KAJrD;AAKTC,IAAAA,OAAO,EAAE,iBAACJ,KAAD,EAAQC,OAAR,EAAoB;AAAED,MAAAA,KAAK,CAACI,OAAN,GAAgBH,OAAhB;AAC/BkB,MAAAA,KAAK,CAAC,MAAD,CAAL;AAAe,KANN;AAQTC,IAAAA,SAAS,EAAE,mBAACpB,KAAD,EAAQqB,OAAR,EAAoB;AAC7B,UAAMC,YAAY,GAAGtB,KAAK,CAACE,IAAN,CAAWqB,IAAX,CAAgB,UAAAV,IAAI;AAAA,eAAIA,IAAI,CAACW,EAAL,KAAYH,OAAO,CAACG,EAAxB;AAAA,OAApB,CAArB,CAD6B,CAE7B;;AACA,UAAGF,YAAH,EAAiB;AACfA,QAAAA,YAAY,CAACR,QAAb;AACD,OAFD,MAEO;AACLd,QAAAA,KAAK,CAACE,IAAN,CAAWuB,IAAX,CAAgBC,MAAM,CAACC,MAAP,CAAc;AAACb,UAAAA,QAAQ,EAAE;AAAX,SAAd,EAA6BO,OAA7B,CAAhB;AACD;AACF,KAhBQ;AAiBTO,IAAAA,cAAc,EAAE,wBAAC5B,KAAD,EAAQwB,EAAR,EAAe;AAC7B,UAAMK,GAAG,GAAG7B,KAAK,CAACE,IAAN,CAAW4B,SAAX,CAAqB,UAACjB,IAAD;AAAA,eAAUA,IAAI,CAACW,EAAL,KAAYA,EAAtB;AAAA,OAArB,CAAZ;AAEAxB,MAAAA,KAAK,CAACE,IAAN,CAAW6B,MAAX,CAAkBF,GAAlB,EAAuB,CAAvB;AACD,KArBQ;AAsBTG,IAAAA,WAAW,EAAE,qBAAChC,KAAD,QAA2B;AAAA,UAAlBwB,EAAkB,QAAlBA,EAAkB;AAAA,UAAdV,QAAc,QAAdA,QAAc;AACtC,UAAMO,OAAO,GAAGrB,KAAK,CAACE,IAAN,CAAWqB,IAAX,CAAgB,UAAAV,IAAI;AAAA,eAAIA,IAAI,CAACW,EAAL,KAAYA,EAAhB;AAAA,OAApB,CAAhB;AACAH,MAAAA,OAAO,CAACP,QAAR,GAAmBA,QAAnB;AACD;AAzBQ,GAhBc;AA2CzBmB,EAAAA,OAAO,EAAE;AACPC,IAAAA,WADO,8BACiB;AAAA,UAAVC,MAAU,SAAVA,MAAU;AACtB;AACD,aAAOC,KAAK,CAAC,yCAAD,CAAL,CACHC,IADG,CACE,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OADF,EAEHF,IAFG,CAEE,UAACG,IAAD,EAAU;AACd;AACAL,QAAAA,MAAM,CAAC,YAAD,EAAeK,IAAf,CAAN;AACD,OALG,CAAP;AAMA,KATM;AAUPC,IAAAA,mBAVO,sCAUyB;AAAA,UAAVN,MAAU,SAAVA,MAAU;AAC9B,aAAOC,KAAK,CAAC,2CAAD,CAAL,CACFC,IADE,CACG,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OADH,EAEFF,IAFE,CAEG,UAACG,IAAD,EAAU;AACd;AACAL,QAAAA,MAAM,CAAC,aAAD,EAAgBK,IAAhB,CAAN;AACD,OALE,CAAP;AAMD,KAjBM;AAkBPE,IAAAA,QAlBO,2BAkBc;AAAA,UAAVP,MAAU,SAAVA,MAAU;AACnB,aAAOC,KAAK,gBAAL,CACJC,IADI,CACC,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OADD,EAEJF,IAFI,CAEC,UAACG,IAAD,EAAU;AACdL,QAAAA,MAAM,CAAC,SAAD,EAAYK,IAAZ,CAAN;AACD,OAJI,CAAP;AAKD,KAxBM;AAyBPpB,IAAAA,SAzBO,4BAyBeC,OAzBf,EAyBwB;AAAA,UAAnBc,MAAmB,SAAnBA,MAAmB;AAC7B,aAAOC,KAAK,iBAAiB;AAC3BO,QAAAA,MAAM,EAAE,MADmB;AAE3BC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SAFkB;AAG3BC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe1B,OAAf;AAHqB,OAAjB,CAAL,CAKJgB,IALI,CAKC,YAAM;AACVF,QAAAA,MAAM,CAAC,WAAD,EAAcd,OAAd,CAAN;AACD,OAPI,CAAP;AAQD,KAlCM;AAmCPjB,IAAAA,OAnCO,0BAmCaiB,OAnCb,EAmCsB;AAAA,UAAnBc,MAAmB,SAAnBA,MAAmB;AAC3B,aAAOC,KAAK,oBAAoB;AAC9BO,QAAAA,MAAM,EAAE,MADsB;AAE9BC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SAFqB;AAG9BC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe1B,OAAf;AAHwB,OAApB,CAAL,CAKJgB,IALI,CAKC,YAAM;AACVF,QAAAA,MAAM,CAAC,SAAD,EAAYd,OAAZ,CAAN;AACD,OAPI,CAAP;AAQD,KA5CM;AA6CPW,IAAAA,WA7CO,qCA6CiC;AAAA,UAA1BG,MAA0B,SAA1BA,MAA0B;AAAA,UAAfX,EAAe,SAAfA,EAAe;AAAA,UAAXV,QAAW,SAAXA,QAAW;AACtC,aAAOsB,KAAK,wBAAiBZ,EAAjB,GAAuB;AACjCmB,QAAAA,MAAM,EAAE,KADyB;AAEjCC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SAFwB;AAGjCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACjC,UAAAA,QAAQ,EAAEA;AAAX,SAAf;AAH2B,OAAvB,CAAL,CAKJuB,IALI,CAKC,YAAM;AACVF,QAAAA,MAAM,CAAC,aAAD,EAAgB;AAACX,UAAAA,EAAE,EAAFA,EAAD;AAAKV,UAAAA,QAAQ,EAARA;AAAL,SAAhB,CAAN;AACD,OAPI,CAAP;AAQD,KAtDM;AAuDPc,IAAAA,cAvDO,iCAuDoBJ,EAvDpB,EAuDwB;AAAA,UAAdW,MAAc,SAAdA,MAAc;AAC7B,aAAOC,KAAK,wBAAiBZ,EAAjB,GAAuB;AACjCmB,QAAAA,MAAM,EAAE,QADyB;AAEjCC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB;AAFwB,OAAvB,CAAL,CAIJP,IAJI,CAIC,YAAM;AACVF,QAAAA,MAAM,CAAC,gBAAD,EAAmBX,EAAnB,CAAN;AACD,OANI,CAAP;AAOD;AA/DM;AA3CgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n\n  state: {\n    catalog: [{}],\n    cart: [],\n    category: [],\n    preView: [],        \n    imageUrl: 'http://svalka-back.im56.ru/'\n  },\n  getters: {\n    getCatalog: (state) => [...state.catalog],\n    getCategory: (state) => [...state.category],\n    getCart: (state) => [...state.cart],\n    //getPreView: (state) = [...state.catalog],    \n    getCartCount: (state) => state.cart.reduce((acc, item) => acc + item.quantity, 0)\n  },\n  mutations: {\n    setCatalog: (state, catalog) => { state.catalog = catalog },\n    // setCatalog: (state, catalog) => {console.log(state)},\n    setCart: (state, cart) => { state.cart = cart },\n    setCategory: (state, category) => {state.category = category },\n    preView: (state, catalog) => { state.preView = catalog;\n    alert('test') },\n\n    addToCart: (state, product) => { \n      const existProduct = state.cart.find(item => item.id === product.id)\n      // console.log(product);\n      if(existProduct) {\n        existProduct.quantity++\n      } else {\n        state.cart.push(Object.assign({quantity: 1}, product))\n      }\n    },    \n    removeFromCart: (state, id) => {\n      const idx = state.cart.findIndex((item) => item.id === id)\n\n      state.cart.splice(idx, 1);\n    },\n    setQuantity: (state, {id, quantity}) => {\n      const product = state.cart.find(item => item.id === id)\n      product.quantity = quantity\n    }\n  },\n  actions: {\n    loadCatalog({ commit }) {\n      // return fetch('https://jsonplaceholder.typicode.com/photos?_limit=10')\n     return fetch('http://svalka-back.im56.ru/api/products')\n        .then((response) => response.json())\n        .then((data) => {\n          // console.log(data);\n          commit('setCatalog', data);\n        })\n    },\n    loadCatalogCategory({ commit }) {\n      return fetch('http://svalka-back.im56.ru/api/categories')\n          .then((response) => response.json())\n          .then((data) => {\n            //console.log(data);\n            commit('setCategory', data);\n          })\n    },\n    loadCart({ commit }) {\n      return fetch(`/api/v1/cart`)\n        .then((response) => response.json())\n        .then((data) => {\n          commit('setCart', data);\n        })\n    },    \n    addToCart({ commit }, product) {\n      return fetch(`/api/v1/cart`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(product)\n      })\n        .then(() => {\n          commit('addToCart', product);\n        })\n    },\n    preView({ commit }, product) {\n      return fetch(`/api/v1/preView`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(product)\n      })\n        .then(() => {\n          commit('preView', product);\n        })\n    },\n    setQuantity({ commit }, {id, quantity}) {\n      return fetch(`/api/v1/cart/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({quantity: quantity})\n      })\n        .then(() => {\n          commit('setQuantity', {id, quantity});\n        })\n    },\n    removeFromCart({ commit }, id) {\n      return fetch(`/api/v1/cart/${id}`, {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' }\n      })\n        .then(() => {\n          commit('removeFromCart', id);\n        })\n    },\n  }\n})\n"]}]}